# Dami Orikogbo EC700 Sp '16
# compares two files to find matches between absolute path and
# apks that were predicted malicious

import re
import pandas as pd
import glob
import os
from xml.dom import minidom
import pickle

#Read in all path names of apk files
#with open('pathname.txt') as f:
#	lines = f.readlines()
#temp = set(lines)

pathNames = open('pathname.txt', 'r')
pathTemp = []
lines = pathNames.readlines()
for pp in lines:
	pathTemp.append(pp)

AbsolutePath = set(pathTemp)
#print pathTemp


#Read in weka malware predictions
#get file name
wekaFile = open("wekaout.txt", "r")
tempList =[]
lines = wekaFile.readlines()
for i in lines:
	elements = i.split("/")
	tempList.append(elements[6])

fileNames = []
for tt in tempList:
	elem = tt.strip(".xml\n")
	fileNames.append(elem)


#output list of absolute paths for apk files
hehe = []
noNewline = []
for path in AbsolutePath:
	if any(s in path for s in fileNames):
		hehe.append(path)

for me in hehe:
	quest = me.strip('\n')
	noNewline.append(quest) 

print '\n'.join(noNewline)
